{"version":3,"sources":["webpack:///./src/views/Payment.vue?29ff","webpack:///./src/constants.js","webpack:///./src/utils.js","webpack:///src/views/Payment.vue","webpack:///./src/views/Payment.vue?8475","webpack:///./src/views/Payment.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","form","span","on","handleSubmit","directives","name","rawName","value","initialValue","expression","handlePg","_l","pg","key","_s","label","handleMethod","method","valuePropName","rules","required","message","_e","quota","initialMerchantUid","handleGoBack","staticRenderFns","PGS","METHODS","METHODS_FOR_INICIS","concat","METHODS_FOR_UPLUS","METHODS_FOR_KCP","METHOD_FOR_CARD","METHOD_FOR_PHONE","METHOD_FOR_VBANK","METHODS_FOR_MOBILIANS","QUOTAS","getUserCodeByPg","getMethodsByPg","getQuotaByPg","data","formLayout","$form","createForm","Date","getTime","pgs","methods","Utils","quotas","initialMethod","vbankDueVisible","bizNumVisible","quotaVisible","e","preventDefault","validateFields","err","values","payMethod","escrow","vbankDue","bizNum","merchantUid","amount","buyerName","buyerTel","buyerEmail","buyerAddr","buyerPostcode","IMP","window","init","pay_method","merchant_uid","buyer_name","buyer_tel","buyer_email","buyer_addr","buyer_postcode","niceMobileV2","vbank_due","biz_num","display","card_quota","sendPaymentDataToBackend","request_pay","callback","response","fetch","headers","body","JSON","stringify","console","log","ok","error","newMethods","setFieldsValue","setVisible","getFieldValue","$router","push","query","type","path","component"],"mappings":"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","file":"js/payment.0e1e98d9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"imp-container\"},[_c('h1',[_vm._v(\"아임포트 결제\")]),_c('a-form',{attrs:{\"form\":_vm.form,\"label-col\":{ span: 6 },\"wrapper-col\":{ span: 18 },\"colon\":false,\"labelAlign\":\"left\"},on:{\"submit\":_vm.handleSubmit}},[_c('a-form-item',{attrs:{\"label\":\"PG사\"}},[_c('a-select',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['pg', { initialValue: 'html5_inicis' }]),expression:\"['pg', { initialValue: 'html5_inicis' }]\"}],attrs:{\"size\":\"large\"},on:{\"change\":_vm.handlePg}},_vm._l((_vm.pgs),function(pg){return _c('a-select-option',{key:pg.value,attrs:{\"value\":pg.value}},[_vm._v(\" \"+_vm._s(pg.label)+\" \")])}),1)],1),_c('a-form-item',{attrs:{\"label\":\"결제수단\"}},[_c('a-select',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['payMethod', { initialValue: 'card' }]),expression:\"['payMethod', { initialValue: 'card' }]\"}],attrs:{\"size\":\"large\"},on:{\"change\":_vm.handleMethod}},_vm._l((_vm.methods),function(method){return _c('a-select-option',{key:method.value,attrs:{\"value\":method.value}},[_vm._v(\" \"+_vm._s(method.label)+\" \")])}),1)],1),_c('a-form-item',{staticClass:\"imp-payment-escrow\",attrs:{\"label\":\"에스크로 결제여부\"}},[_c('a-switch',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['escrow', { valuePropName: 'checked' }]),expression:\"['escrow', { valuePropName: 'checked' }]\"}]})],1),(_vm.vbankDueVisible)?_c('a-form-item',{attrs:{\"label\":\"입금기한\"}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n        'vbankDue',\n        {\n          rules: [{ required: true, message: '가상계좌 입금기한은 필수입력입니다' }],\n        }\n      ]),expression:\"[\\n        'vbankDue',\\n        {\\n          rules: [{ required: true, message: '가상계좌 입금기한은 필수입력입니다' }],\\n        }\\n      ]\"}],attrs:{\"placeholder\":\"YYYYMMDDhhmm\",\"size\":\"large\",\"type\":\"number\"}})],1):_vm._e(),(_vm.bizNumVisible)?_c('a-form-item',{attrs:{\"label\":\"사업자번호\"}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n        'bizNum',\n        {\n          rules: [{ required: true, message: '사업자번호는 필수입력입니다' }],\n        }\n      ]),expression:\"[\\n        'bizNum',\\n        {\\n          rules: [{ required: true, message: '사업자번호는 필수입력입니다' }],\\n        }\\n      ]\"}],attrs:{\"size\":\"large\",\"type\":\"number\"}})],1):_vm._e(),(_vm.quotaVisible)?_c('a-form-item',{attrs:{\"label\":\"할부개월수\"}},[_c('a-select',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['quota', { initialValue: '0' }]),expression:\"['quota', { initialValue: '0' }]\"}],attrs:{\"size\":\"large\"}},_vm._l((_vm.quotas),function(quota){return _c('a-select-option',{key:quota,attrs:{\"value\":quota}},[_vm._v(\" \"+_vm._s(quota === '0' ? 'PG사 기본제공' : quota === '1' ? '일시불' : (quota + \"개월\"))+\" \")])}),1)],1):_vm._e(),_c('a-form-item',{attrs:{\"label\":\"주문번호\"}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n        'merchantUid',\n        { initialValue: _vm.initialMerchantUid } ]),expression:\"[\\n        'merchantUid',\\n        { initialValue: initialMerchantUid },\\n      ]\"}],attrs:{\"size\":\"large\"}})],1),_c('a-form-item',{attrs:{\"label\":\"주문명\"}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['name', { initialValue: '아임포트 VueJS 테스트 결제' }]),expression:\"['name', { initialValue: '아임포트 VueJS 테스트 결제' }]\"}],attrs:{\"size\":\"large\"}})],1),_c('a-form-item',{attrs:{\"label\":\"결제금액\"}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['amount', { initialValue: '1000' }]),expression:\"['amount', { initialValue: '1000' }]\"}],attrs:{\"size\":\"large\",\"type\":\"number\"}})],1),_c('a-form-item',{attrs:{\"label\":\"이름\"}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['buyerName', { initialValue: '홍길동' }]),expression:\"['buyerName', { initialValue: '홍길동' }]\"}],attrs:{\"size\":\"large\"}})],1),_c('a-form-item',{attrs:{\"label\":\"연락처\"}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['buyerPhone', { initialValue: '01012341234' }]),expression:\"['buyerPhone', { initialValue: '01012341234' }]\"}],attrs:{\"size\":\"large\",\"type\":\"number\"}})],1),_c('a-form-item',{attrs:{\"label\":\"이메일\"}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['buyerEmail', { initialValue: 'example@example.com' }]),expression:\"['buyerEmail', { initialValue: 'example@example.com' }]\"}],attrs:{\"size\":\"large\"}})],1),_c('a-form-item',{attrs:{\"label\":\"주소\"}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['buyerAddr', { initialValue: '서울시 강남구 신사동 661-16' }]),expression:\"['buyerAddr', { initialValue: '서울시 강남구 신사동 661-16' }]\"}],attrs:{\"size\":\"large\"}})],1),_c('a-form-item',{attrs:{\"label\":\"우편번호\"}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['buyerPostcode', { initialValue: '06010' }]),expression:\"['buyerPostcode', { initialValue: '06010' }]\"}],attrs:{\"size\":\"large\",\"type\":\"number\"}})],1),_c('a-button',{attrs:{\"size\":\"large\"},on:{\"click\":_vm.handleGoBack}},[_vm._v(\" 뒤로가기 \")]),_c('a-button',{attrs:{\"type\":\"primary\",\"html-type\":\"submit\",\"size\":\"large\"}},[_vm._v(\" 결제하기 \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const PGS = [\n  {\n    value: 'html5_inicis',\n    label: '웹 표준 이니시스',\n  },\n  {\n    value: 'kcp',\n    label: 'NHN KCP',\n  },\n  {\n    value: 'kcp_billing',\n    label: 'NHN KCP 정기결제',\n  },\n  {\n    value: 'uplus',\n    label: 'LG 유플러스',\n  },\n  {\n    value: 'jtnet',\n    label: 'JTNET',\n  },\n  {\n    value: 'nice',\n    label: '나이스 정보통신',\n  },\n  {\n    value: 'kakaopay',\n    label: '신 - 카카오페이',\n  },\n  {\n    value: 'kakao',\n    label: '구 - LG CNS 카카오페이',\n  },\n  {\n    value: 'danal',\n    label: '다날 휴대폰 소액결제',\n  },\n  {\n    value: 'danal_tpay',\n    label: '다날 일반결제',\n  },\n  {\n    value: 'kicc',\n    label: '한국정보통신',\n  },\n  {\n    value: 'paypal',\n    label: '페이팔',\n  },\n  {\n    value: 'mobilians',\n    label: '모빌리언스',\n  },\n  {\n    value: 'payco',\n    label: '페이코',\n  },\n  {\n    value: 'settle',\n    label: '세틀뱅크 가상계좌',\n  },\n  {\n    value: 'naverco',\n    label: '네이버 체크아웃',\n  },\n  {\n    value: 'naverpay',\n    label: '네이버페이',\n  },\n  {\n    value: 'smilepay',\n    label: '스마일페이',\n  },\n];\n\nexport const METHODS = [\n  {\n    value: 'card',\n    label: '신용카드',\n  },\n  {\n    value: 'trans',\n    label: '실시간 계좌이체',\n  },\n  {\n    value: 'vbank',\n    label: '가상계좌',\n  },\n  {\n    value: 'phone',\n    label: '휴대폰 소액결제',\n  },\n];\n\nexport const METHODS_FOR_INICIS = METHODS.concat([\n  {\n    value: 'samsung',\n    label: '삼성페이',\n  },\n  {\n    value: 'kapy',\n    label: 'KPAY',\n  },\n  {\n    value: 'cultureland',\n    label: '문화상품권',\n  },\n  {\n    value: 'smartculture',\n    label: '스마트문상',\n  },\n  {\n    value: 'happymoney',\n    label: '해피머니',\n  },\n]);\n\nexport const METHODS_FOR_UPLUS = METHODS.concat([\n  {\n    value: 'cultureland',\n    label: '문화상품권',\n  },\n  {\n    value: 'smartculture',\n    label: '스마트문상',\n  },\n  {\n    value: 'booknlife',\n    label: '도서문화상품권',\n  },\n]);\n\nexport const METHODS_FOR_KCP = METHODS.concat([{ value: 'samsung', label: '삼성페이' }]);\n\nexport const METHOD_FOR_CARD = [{ value: 'card', label: '신용카드' }];\nexport const METHOD_FOR_PHONE = [{ value: 'phone', label: '휴대폰 소액결제' }];\nexport const METHOD_FOR_VBANK = [{ value: 'vbank', label: '가상계좌' }];\n\nexport const METHODS_FOR_MOBILIANS = METHOD_FOR_CARD.concat(METHOD_FOR_PHONE);\n\nexport const QUOTAS = ['0', '1'];\n\nexport default {};\n","import {\n  METHODS_FOR_INICIS,\n  METHODS_FOR_KCP,\n  METHOD_FOR_CARD,\n  METHODS_FOR_UPLUS,\n  METHOD_FOR_PHONE,\n  METHODS_FOR_MOBILIANS,\n  METHOD_FOR_VBANK,\n  QUOTAS,\n} from './constants';\n\nfunction getUserCodeByPg(pg) {\n  switch (pg) {\n    case 'kakao':\n      return 'imp10391932';\n    case 'paypal':\n      return 'imp09350031';\n    case 'mobilians':\n      return 'imp60029475';\n    case 'naverco':\n    case 'naverpay':\n      return 'imp41073887';\n    default:\n      return 'imp19424728';\n  }\n}\n\nfunction getMethodsByPg(pg = 'html5_inicis') {\n  switch (pg) {\n    case 'html5_inicis':\n      return METHODS_FOR_INICIS;\n    case 'kcp':\n      return METHODS_FOR_KCP;\n    case 'kcp_billing':\n    case 'kakaopay':\n    case 'kakao':\n    case 'paypal':\n    case 'payco':\n    case 'smilepay':\n      return METHOD_FOR_CARD;\n    case 'uplus':\n      return METHODS_FOR_UPLUS;\n    case 'danal':\n      return METHOD_FOR_PHONE;\n    case 'mobilians':\n      return METHODS_FOR_MOBILIANS;\n    case 'settle':\n      return METHOD_FOR_VBANK;\n    default:\n      return METHODS_FOR_INICIS;\n  }\n}\n\nfunction getQuotaByPg(pg = 'html5_inicis') {\n  switch (pg) {\n    case 'html5_inicis':\n    case 'kcp':\n      return QUOTAS.concat(['2', '3', '4', '5', '6']);\n    default:\n      return QUOTAS;\n  }\n}\n\nexport default {\n  getUserCodeByPg,\n  getMethodsByPg,\n  getQuotaByPg,\n};\n","<template>\n  <div class=\"imp-container\">\n    <h1>아임포트 결제</h1>\n    <a-form :form=\"form\" :label-col=\"{ span: 6 }\" :wrapper-col=\"{ span: 18 }\" :colon=\"false\" labelAlign=\"left\"\n      @submit=\"handleSubmit\">\n      <a-form-item label=\"PG사\">\n        <a-select v-decorator=\"['pg', { initialValue: 'html5_inicis' }]\" size=\"large\" @change=\"handlePg\">\n          <a-select-option v-bind:key=\"pg.value\" v-for=\"pg in pgs\" :value=\"pg.value\">\n            {{ pg.label }}\n          </a-select-option>\n        </a-select>\n      </a-form-item>\n      <a-form-item label=\"결제수단\">\n        <a-select v-decorator=\"['payMethod', { initialValue: 'card' }]\" size=\"large\" @change=\"handleMethod\">\n          <a-select-option v-bind:key=\"method.value\" v-for=\"method in methods\" :value=\"method.value\">\n            {{ method.label }}\n          </a-select-option>\n        </a-select>\n      </a-form-item>\n      <a-form-item label=\"에스크로 결제여부\" class=\"imp-payment-escrow\">\n        <a-switch v-decorator=\"['escrow', { valuePropName: 'checked' }]\" />\n      </a-form-item>\n      <a-form-item label=\"입금기한\" v-if=\"vbankDueVisible\">\n        <a-input v-decorator=\"[\n          'vbankDue',\n          {\n            rules: [{ required: true, message: '가상계좌 입금기한은 필수입력입니다' }],\n          }\n        ]\" placeholder=\"YYYYMMDDhhmm\" size=\"large\" type=\"number\" />\n      </a-form-item>\n      <a-form-item label=\"사업자번호\" v-if=\"bizNumVisible\">\n        <a-input v-decorator=\"[\n          'bizNum',\n          {\n            rules: [{ required: true, message: '사업자번호는 필수입력입니다' }],\n          }\n        ]\" size=\"large\" type=\"number\" />\n      </a-form-item>\n      <a-form-item label=\"할부개월수\" v-if=\"quotaVisible\">\n        <a-select v-decorator=\"['quota', { initialValue: '0' }]\" size=\"large\">\n          <a-select-option v-bind:key=\"quota\" v-for=\"quota in quotas\" :value=\"quota\">\n            {{ quota === '0' ? 'PG사 기본제공' : quota === '1' ? '일시불' : `${quota}개월` }}\n          </a-select-option>\n        </a-select>\n      </a-form-item>\n      <a-form-item label=\"주문번호\">\n        <a-input v-decorator=\"[\n          'merchantUid',\n          { initialValue: initialMerchantUid },\n        ]\" size=\"large\" />\n      </a-form-item>\n      <a-form-item label=\"주문명\">\n        <a-input v-decorator=\"['name', { initialValue: '아임포트 VueJS 테스트 결제' }]\" size=\"large\" />\n      </a-form-item>\n      <a-form-item label=\"결제금액\">\n        <a-input v-decorator=\"['amount', { initialValue: '1000' }]\" size=\"large\" type=\"number\" />\n      </a-form-item>\n      <a-form-item label=\"이름\">\n        <a-input v-decorator=\"['buyerName', { initialValue: '홍길동' }]\" size=\"large\" />\n      </a-form-item>\n      <a-form-item label=\"연락처\">\n        <a-input v-decorator=\"['buyerPhone', { initialValue: '01012341234' }]\" size=\"large\" type=\"number\" />\n      </a-form-item>\n      <a-form-item label=\"이메일\">\n        <a-input v-decorator=\"['buyerEmail', { initialValue: 'example@example.com' }]\" size=\"large\" />\n      </a-form-item>\n      <a-form-item label=\"주소\">\n        <a-input v-decorator=\"['buyerAddr', { initialValue: '서울시 강남구 신사동 661-16' }]\" size=\"large\" />\n      </a-form-item>\n      <a-form-item label=\"우편번호\">\n        <a-input v-decorator=\"['buyerPostcode', { initialValue: '06010' }]\" size=\"large\" type=\"number\" />\n      </a-form-item>\n      <a-button size=\"large\" @click=\"handleGoBack\">\n        뒤로가기\n      </a-button>\n      <a-button type=\"primary\" html-type=\"submit\" size=\"large\">\n        결제하기\n      </a-button>\n    </a-form>\n  </div>\n</template>\n\n<script>\nimport { PGS } from '../constants';\nimport Utils from '../utils';\n\nexport default {\n  data() {\n    return {\n      formLayout: 'horizontal',\n      form: this.$form.createForm(this, { name: 'payment' }),\n      initialMerchantUid: `mid_${new Date().getTime()}`,\n      pgs: PGS,\n      methods: Utils.getMethodsByPg(),\n      quotas: Utils.getQuotaByPg(),\n      initialMethod: 'card',\n      vbankDueVisible: false,\n      bizNumVisible: false,\n      quotaVisible: true,\n    };\n  },\n  methods: {\n    handleSubmit(e) {\n      e.preventDefault();\n      this.form.validateFields(async (err, values) => {\n        if (!err) {\n          const {\n            pg,\n            payMethod,\n            escrow,\n            vbankDue,\n            bizNum,\n            quota,\n            merchantUid,\n            name,\n            amount,\n            buyerName,\n            buyerTel,\n            buyerEmail,\n            buyerAddr,\n            buyerPostcode,\n          } = values;\n\n          const { IMP } = window;\n          IMP.init(Utils.getUserCodeByPg(pg));\n\n          const data = {\n            pg,\n            pay_method: payMethod,\n            escrow,\n            merchant_uid: merchantUid,\n            name,\n            amount,\n            buyer_name: buyerName,\n            buyer_tel: buyerTel,\n            buyer_email: buyerEmail,\n            buyer_addr: buyerAddr,\n            buyer_postcode: buyerPostcode,\n            niceMobileV2: true,\n          };\n\n\n\n          if (payMethod === 'vbank') {\n            data.vbank_due = vbankDue;\n            if (pg === 'danal_tpay') {\n              data.biz_num = bizNum;\n            }\n          }\n          if (payMethod === 'card') {\n            data.display = {\n              card_quota: quota,\n            };\n          }\n\n          this.sendPaymentDataToBackend\n          IMP.request_pay(data, this.callback);\n        }\n\n      });\n    },\n    async sendPaymentDataToBackend(data) {\n      try {\n        const response = await fetch('http://localhost:8080/api/payment', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify(values),\n        });\n        console.log(response);\n        // Check if the request was successful\n        if (response.ok) {\n          // Payment data sent successfully\n          console.log('Payment data sent successfully');\n\n          // Redirect or perform any other actions as needed\n        } else {\n          // Handle error response\n          console.error('Failed to send payment data');\n        }\n      } catch (error) {\n        // Handle fetch error\n        console.error('Error sending payment data:', error);\n      }\n    },\n    handlePg(pg) {\n      const newMethods = Utils.getMethodsByPg(pg);\n      const [{ value }] = newMethods;\n\n      this.methods = Utils.getMethodsByPg(pg);\n      this.form.setFieldsValue({\n        payMethod: value,\n      });\n\n      this.setVisible(pg, value);\n    },\n    handleMethod(method) {\n      const pg = this.form.getFieldValue('pg');\n      this.setVisible(pg, method);\n    },\n    setVisible(pg, method) {\n      // 가상계좌 입금기한 렌더링 여부\n      const vbankDueVisible = method === 'vbank';\n      this.vbankDueVisible = vbankDueVisible;\n\n      // 사업자 번호 렌더링 여부\n      this.bizNumVisible = pg === 'danal_tpay' && vbankDueVisible;\n\n      // 할부개월수 렌더링 여부\n      this.quotaVisible = method === 'card';\n    },\n    handleGoBack() {\n      this.$router.push('/');\n    },\n    callback(response) {\n      // 본인인증 종료 후 result 페이지로 이동\n      const query = {\n        ...response,\n        type: 'payment',\n      };\n      this.$router.push({ path: '/result', query });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Payment.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Payment.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Payment.vue?vue&type=template&id=2c9bc4ea\"\nimport script from \"./Payment.vue?vue&type=script&lang=js\"\nexport * from \"./Payment.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}